!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t((e="undefined"!=typeof globalThis?globalThis:e||self).monitor={})}(this,(function(e){"use strict";var t=function(){return t=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},t.apply(this,arguments)};function n(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{c(r.next(e))}catch(e){i(e)}}function s(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))}function r(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(s){return function(c){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,s[0]&&(a=0)),a;)try{if(n=1,r&&(o=2&s[0]?r.return:s[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,s[1])).done)return o;switch(r=0,o&&(s=[2&s[0],o.value]),s[0]){case 0:case 1:o=s;break;case 4:return a.label++,{value:s[1],done:!1};case 5:a.label++,r=s[1],s=[0];continue;case 7:s=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==s[0]&&2!==s[0])){a=0;continue}if(3===s[0]&&(!o||s[1]>o[0]&&s[1]<o[3])){a.label=s[1];break}if(6===s[0]&&a.label<o[1]){a.label=o[1],o=s;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(s);break}o[2]&&a.ops.pop(),a.trys.pop();continue}s=t.call(e,a)}catch(e){s=[6,e],r=0}finally{n=o=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,c])}}}function o(e,t,n){if(n||2===arguments.length)for(var r,o=0,i=t.length;o<i;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))}var i={name:"@mtrjs/sdk",version:"1.0.0",main:"dist/index.min.js",scripts:{build:"rollup -c --bundleConfigAsCjs","build:watch":"rollup -c --bundleConfigAsCjs --watch"},repository:{type:"git",url:"git+https://github.com/mtrjs/sdk.git"},keywords:[],author:"",license:"ISC",bugs:{url:"https://github.com/mtrjs/sdk/issues"},homepage:"https://github.com/mtrjs/sdk#readme",devDependencies:{"@babel/core":"^7.21.0","@babel/plugin-transform-runtime":"^7.21.0","@babel/preset-env":"^7.20.2","@babel/preset-typescript":"^7.21.0","@rollup/plugin-babel":"^6.0.3","@rollup/plugin-commonjs":"^24.0.1","@rollup/plugin-json":"^6.0.0","@rollup/plugin-node-resolve":"^15.0.1","@rollup/plugin-terser":"^0.4.0","@rollup/plugin-typescript":"^11.0.0","@types/node":"^18.14.2","cross-env":"^7.0.3",emittery:"^1.0.1",jest:"^29.4.3",prettier:"^2.8.4",rimraf:"^4.1.2",rollup:"^3.17.3","rollup-plugin-clear":"^2.0.7","rollup-plugin-ts":"^3.2.0",tslib:"^2.5.0",typescript:"^4.9.5"},dependencies:{"@babel/runtime":"^7.21.0","core-js":"^3.29.1","web-vitals":"^3.3.1"},types:"./dist/index.min.d.ts",directories:{example:"example"}};function a(e){for(var t=5381,n=0;n<e.length;n++)t=(33*t+e.charCodeAt(n))%4294967296;return t.toString(16)}var s=function(){function e(e){var t=e.appId,n=e.env,r="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(e){var t=16*Math.random()|0;return("x"==e?t:3&t|8).toString(16)}));this.cache=new Map,this.baseData={app_id:t,app_env:n,trace_id:r,sdk:{version:i.version}}}return e.prototype.build=function(e){return t(t({t:+new Date},this.baseData),e)},e}(),c=function(){function e(){}return e.prototype._log=function(e){},e.prototype.log=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];console.log.apply(console,e)},e.prototype.info=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];console.info.apply(console,e)},e}(),u=new c,p=0,l=function(){function e(e){var t=this;this.client=e.client,this.tasks=[],this.maxTasks=e.maxTasks,this.cycleTime=8,this.cache=new Map,setInterval((function(){t.consume(!0)}),1e3*this.cycleTime)}return e.prototype.consume=function(e){return n(this,void 0,void 0,(function(){var t,n,o=this;return r(this,(function(r){switch(r.label){case 0:if(!e&&this.tasks.length<this.maxTasks)return[2];if(t=this.tasks.slice(0,this.maxTasks),this.tasks=this.tasks.slice(this.maxTasks),t.forEach((function(e){var t=e.data.hash;t&&o.cache.delete(t)})),n=t.map((function(e){return e.data})),!n.length)return[2];r.label=1;case 1:return r.trys.push([1,3,,4]),[4,this.send(n)];case 2:return r.sent(),setTimeout((function(){o.consume()}),1e3),[3,4];case 3:return r.sent(),[3,4];case 4:return[2]}}))}))},e.prototype.push=function(e){var t={id:++p,data:e},n=e.hash;if(n){var r=this.cache.get(n);if(r)return void(r.data.count=(r.data.count||1)+1);this.cache.set(n,t)}this.tasks.push(t),this.consume()},e.prototype.send=function(e){this.client.$hook.emit("send",(function(t){return u.info("send 任务发送: 数据",e),t(e).then((function(e){return u.info("send 成功!"),e}))}))},e.prototype.clear=function(){return n(this,void 0,void 0,(function(){return r(this,(function(e){return this.consume(!0),[2]}))}))},e.prototype.immediate=function(e){return this.send([e])},e}(),f=function(){function e(){this.event=new Map,this.maxListener=100}return e.prototype.on=function(e,t){var n=this.event.get(e)||[];"function"==typeof t&&this.event.set(e,o(o([],n,!0),[t],!1))},e.prototype.once=function(e,t){var n=this;this.on(e,(function r(){for(var o=[],i=0;i<arguments.length;i++)o[i]=arguments[i];t.apply(void 0,o),n.removeListener(e,r)}))},e.prototype.emit=function(e,t){(this.event.get(e)||[]).forEach((function(e){return e(t)}))},e.prototype.setMaxListeners=function(e){this.maxListener=e},e.prototype.listeners=function(e){return this.event.get(e)||[]},e.prototype.removeAllListener=function(e){this.event.set(e,[])},e.prototype.removeListener=function(e,t){var n=this.event.get(e)||[];n=n.filter((function(e){return t!==e})),this.event.set(e,n)},e}();var d,v,h,m=[],g=function(){function e(e){!function(e){if(!e)throw new Error("缺少 SDK 配置信息");if(!e.dsn)throw new Error("缺少 SDK dns 配置信息");if(!e.appId)throw new Error("缺少 appId 应用 ID")}(e),this.config=e}return e.prototype.init=function(){var e,t=this.config,n=t.plugins,r=void 0===n?[]:n,o=t.appId,i=t.maxTasks,a=void 0===i?10:i,c=t.env;this.builder=new s({appId:o,env:c}),this.schedule=new l({maxTasks:a,client:this}),this.$hook=new f,this.registerPlugins(m.concat(r)),this.addListeners(),null===(e=this.$hook)||void 0===e||e.emit("init",{}),u.info("sdk init")},e.prototype.registerPlugins=function(e){var t=this;Array.isArray(e)&&e.map((function(e){return e.apply(t)}))},e.prototype.addListeners=function(){var e,t=this;null===(e=this.$hook)||void 0===e||e.on("report",(function(e){var n,r,o,i=e.data,a=e.runTime||"delay";u.info("report 事件触发, 数据:",{data:i,runTime:a});var s=null===(n=t.builder)||void 0===n?void 0:n.build(i);s&&("delay"===a?null===(r=t.schedule)||void 0===r||r.push(s):"immediately"===a&&(null===(o=t.schedule)||void 0===o||o.immediate(s)))}))},e.prototype.getReportParams=function(){return{url:"".concat(this.config.dsn,"/v1/report"),method:"POST",headers:{}}},e.prototype.getTasks=function(){return this.schedule.tasks},e.prototype.getConfig=function(){return this.config},e}();!function(e){e[e.PROMISE=0]="PROMISE",e[e.JS=1]="JS"}(d||(d={})),function(e){e[e.fetch=0]="fetch",e[e.XHR=1]="XHR"}(v||(v={})),function(e){e["js-exception"]="1003",e["request-exception"]="1004",e["console-exception"]="1005",e["resource-exception"]="1006",e.performance="1000",e["runtime-performance"]="1007"}(h||(h={}));var y,w,b,x,E=-1,T=function(e){addEventListener("pageshow",(function(t){t.persisted&&(E=t.timeStamp,e(t))}),!0)},k=function(){return window.performance&&performance.getEntriesByType&&performance.getEntriesByType("navigation")[0]},S=function(){var e=k();return e&&e.activationStart||0},L=function(e,t){var n=k(),r="navigate";return E>=0?r="back-forward-cache":n&&(r=document.prerendering||S()>0?"prerender":document.wasDiscarded?"restore":n.type.replace(/_/g,"-")),{name:e,value:void 0===t?-1:t,rating:"good",delta:0,entries:[],id:"v3-".concat(Date.now(),"-").concat(Math.floor(8999999999999*Math.random())+1e12),navigationType:r}},C=function(e,t,n){try{if(PerformanceObserver.supportedEntryTypes.includes(e)){var r=new PerformanceObserver((function(e){Promise.resolve().then((function(){t(e.getEntries())}))}));return r.observe(Object.assign({type:e,buffered:!0},n||{})),r}}catch(e){}},P=function(e,t,n,r){var o,i;return function(a){t.value>=0&&(a||r)&&((i=t.value-(o||0))||void 0===o)&&(o=t.value,t.delta=i,t.rating=function(e,t){return e>t[1]?"poor":e>t[0]?"needs-improvement":"good"}(t.value,n),e(t))}},j=function(e){requestAnimationFrame((function(){return requestAnimationFrame((function(){return e()}))}))},A=function(e){var t=function(t){"pagehide"!==t.type&&"hidden"!==document.visibilityState||e(t)};addEventListener("visibilitychange",t,!0),addEventListener("pagehide",t,!0)},R=function(e){var t=!1;return function(n){t||(e(n),t=!0)}},M=-1,q=function(){return"hidden"!==document.visibilityState||document.prerendering?1/0:0},D=function(e){"hidden"===document.visibilityState&&M>-1&&(M="visibilitychange"===e.type?e.timeStamp:0,H())},F=function(){addEventListener("visibilitychange",D,!0),addEventListener("prerenderingchange",D,!0)},H=function(){removeEventListener("visibilitychange",D,!0),removeEventListener("prerenderingchange",D,!0)},O=function(){return M<0&&(M=q(),F(),T((function(){setTimeout((function(){M=q(),F()}),0)}))),{get firstHiddenTime(){return M}}},I=function(e){document.prerendering?addEventListener("prerenderingchange",(function(){return e()}),!0):e()},X=[1800,3e3],N=function(e,t){t=t||{},I((function(){var n,r=O(),o=L("FCP"),i=C("paint",(function(e){e.forEach((function(e){"first-contentful-paint"===e.name&&(i.disconnect(),e.startTime<r.firstHiddenTime&&(o.value=Math.max(e.startTime-S(),0),o.entries.push(e),n(!0)))}))}));i&&(n=P(e,o,X,t.reportAllChanges),T((function(r){o=L("FCP"),n=P(e,o,X,t.reportAllChanges),j((function(){o.value=performance.now()-r.timeStamp,n(!0)}))})))}))},B=[.1,.25],$={passive:!0,capture:!0},_=new Date,J=function(e,t){y||(y=t,w=e,b=new Date,z(removeEventListener),G())},G=function(){if(w>=0&&w<b-_){var e={entryType:"first-input",name:y.type,target:y.target,cancelable:y.cancelable,startTime:y.timeStamp,processingStart:y.timeStamp+w};x.forEach((function(t){t(e)})),x=[]}},K=function(e){if(e.cancelable){var t=(e.timeStamp>1e12?new Date:performance.now())-e.timeStamp;"pointerdown"==e.type?function(e,t){var n=function(){J(e,t),o()},r=function(){o()},o=function(){removeEventListener("pointerup",n,$),removeEventListener("pointercancel",r,$)};addEventListener("pointerup",n,$),addEventListener("pointercancel",r,$)}(t,e):J(t,e)}},z=function(e){["mousedown","keydown","touchstart","pointerdown"].forEach((function(t){return e(t,K,$)}))},Q=[100,300],U=[2500,4e3],V={},W=[800,1800],Y=function e(t){document.prerendering?I((function(){return e(t)})):"complete"!==document.readyState?addEventListener("load",(function(){return e(t)}),!0):setTimeout(t,0)},Z=function(e,t){t=t||{};var n=L("TTFB"),r=P(e,n,W,t.reportAllChanges);Y((function(){var o=k();if(o){var i=o.responseStart;if(i<=0||i>performance.now())return;n.value=Math.max(i-S(),0),n.entries=[o],r(!0),T((function(){n=L("TTFB",0),(r=P(e,n,W,t.reportAllChanges))(!0)}))}}))},ee=["navigationStart","unloadEventStart","unloadEventEnd","navigationStart","redirectStart","redirectEnd","fetchStart","domainLookupStart","domainLookupEnd","connectStart","secureConnectionStart","connectEnd","requestStart","responseStart","responseEnd","domLoading","domInteractive","domContentLoadedEventEnd","domContentLoadedEventStart","domComplete","loadEventStart","loadEventEnd"];var te=function(){function e(){this.name="Browser"}return e.prototype.apply=function(e){var t=this;this.client=e,(window||document)&&(e.$hook.on("init",(function(){t.timing(),t.listenError(),t.promiseError(),t.overrideFetch(),t.overrideXHR(),t.hijackConsole()})),e.$hook.on("send",(function(e){requestIdleCallback((function(){return e(t.send.bind(t))}))})),document.addEventListener("visibilitychange",(function(){var n=e.getTasks();if(n.length){var r=n.map((function(e){return e.data}));t.send(r,!0)}})))},e.prototype.send=function(e,t){void 0===t&&(t=!1);var n=this.client.getReportParams(),r=n.url,o=n.method,i=new FormData;return i.append("data",JSON.stringify(e)),"function"==typeof navigator.sendBeacon?Promise.resolve(navigator.sendBeacon(r,i)):"function"==typeof fetch?fetch(r,{method:o,keepalive:!0}).then((function(){return!0})):new Promise((function(e,n){var a=new XMLHttpRequest;a.addEventListener("load",(function(){e(!0)})),a.addEventListener("error",(function(){n()})),a.open(o,r,!t),a.send(i)}))},e.prototype.report=function(e){var n,r=e.data,o=function(e){var t,n=e.eid,r=e.l;if(n===h["js-exception"]){var o=r.name,i=void 0===o?"":o,s=r.stack,c=void 0===s?"":s,u=r.message,p=void 0===u?"":u,l=r.colno,f=void 0===l?"":l,d=r.filename,v=void 0===d?"":d,m=r.lineno;t=a(i+c+p+f+(void 0===m?"":m)+v)}else n===h["resource-exception"]&&(t=a(r.src));return t}(r),i=r.eid,s=r.l,c=navigator.userAgent;null===(n=this.client)||void 0===n||n.$hook.emit("report",t(t({},e),{data:{eid:i,hash:o,l:t(t({},s),{ua:c,href:window.location.href})}}))},e.prototype.overrideXHR=function(){if(XMLHttpRequest){var e=this,n=XMLHttpRequest.prototype.open,r=XMLHttpRequest.prototype.send,o=XMLHttpRequest.prototype.setRequestHeader;XMLHttpRequest.prototype.setRequestHeader=function(){for(var e,n,r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];var a=null!==(n=null===(e=this.reporterCollect)||void 0===e?void 0:e.headers)&&void 0!==n?n:{},s=r||[],c=s[0],u=s[1];a[c]=u,this.reporterCollect=t(t({},this.reporterCollect),{headers:a}),o.apply(this,r)},XMLHttpRequest.prototype.open=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];var o=e,i=o[0],a=o[1],s=Date.now();this.reporterCollect=t(t({},this.reporterCollect),{method:i,url:"string"==typeof a?a:a.toString(),startTime:s,type:v.XHR}),n.apply(this,e)},XMLHttpRequest.prototype.send=function(){for(var n=this,o=[],i=0;i<arguments.length;i++)o[i]=arguments[i];var a=(o||[])[0];this.addEventListener("loadend",(function(){var r=Date.now(),o=n,i=o.status,s=o.statusText;if(i>200||!i){n.reporterCollect=t(t({},n.reporterCollect),{endTime:r,status:String(i),statusText:s,body:a});var c=n.reporterCollect.headers;e.report({data:{eid:h["request-exception"],l:t(t({},n.reporterCollect),{headers:JSON.stringify(c)})}})}})),r.apply(this,o)}}},e.prototype.overrideFetch=function(){if("function"==typeof window.fetch){var e=this,t=window.fetch;window.fetch=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var o=Date.now(),i=n[0],a=(n[1]||{}).method,s={url:i,startTime:o,method:void 0===a?"GET":a,type:v.fetch};return t.apply(window,n).then((function(t){var n=t.status,r=t.statusText;if(n&&n>300){var o=Date.now();Object.assign(s,{status:String(n),statusText:r,endTime:o}),e.report({data:{eid:h["request-exception"],l:s}})}return t})).catch((function(t){var n=Date.now(),r=t.name,o=t.message,i=t.stack;return Object.assign(s,{name:r,message:o,stack:i}),s.endTime=n,e.report({data:{eid:h["request-exception"],l:s}}),t}))}}},e.prototype.listenError=function(){var e=this;window.addEventListener("error",(function(t){var n,r=t.type,o=t.error,i=t.message,a=t.colno,s=t.filename,c=t.lineno;if("error"===r&&s&&a&&c)e.report({data:{eid:h["js-exception"],l:{name:i,colno:a,message:null==o?void 0:o.message,filename:s,lineno:c,stack:null==o?void 0:o.stack}}});else{var u=null===(n=t.target)||void 0===n?void 0:n.src;"error"===r&&u&&e.report({data:{eid:h["resource-exception"],l:{src:u}}})}}),!0)},e.prototype.promiseError=function(){var e=this;window.addEventListener("unhandledrejection",(function(n){var r=n.reason,o={message:"",stack:"",name:""};if(r instanceof Error){var i=r.name,a=r.stack,s=r.message;o.message=s,o.stack=a||"",o.name=i}else o.message=r,o.name=r;e.report({data:{eid:h["js-exception"],l:t({type:d.PROMISE},o)}})}))},e.prototype.timing=function(){var e=this;if(PerformanceObserver){var n={fcp:0,lcp:0,cls:null,ttfb:0},r=new Promise((function(e){var t=new PerformanceObserver((function(t){t.getEntries().forEach((function(t){if("navigation"===t.entryType){var n=t.toJSON();e(n)}}))}));t.observe({entryTypes:["navigation"]})})),o=function(){},i=new Promise((function(e){o=e}));!function(e,t){t=t||{},I((function(){var n,r=O(),o=L("LCP"),i=function(e){var t=e[e.length-1];t&&t.startTime<r.firstHiddenTime&&(o.value=Math.max(t.startTime-S(),0),o.entries=[t],n())},a=C("largest-contentful-paint",i);if(a){n=P(e,o,U,t.reportAllChanges);var s=R((function(){V[o.id]||(i(a.takeRecords()),a.disconnect(),V[o.id]=!0,n(!0))}));["keydown","click"].forEach((function(e){addEventListener(e,s,!0)})),A(s),T((function(r){o=L("LCP"),n=P(e,o,U,t.reportAllChanges),j((function(){o.value=performance.now()-r.timeStamp,V[o.id]=!0,n(!0)}))}))}}))}((function(e){n.lcp=e.value}),{reportAllChanges:!0});var a,s=new Promise((function(e){N((function(t){n.fcp=t.value,e()}))}));!function(e,t){t=t||{},N(R((function(){var n,r=L("CLS",0),o=0,i=[],a=function(e){e.forEach((function(e){if(!e.hadRecentInput){var t=i[0],n=i[i.length-1];o&&e.startTime-n.startTime<1e3&&e.startTime-t.startTime<5e3?(o+=e.value,i.push(e)):(o=e.value,i=[e])}})),o>r.value&&(r.value=o,r.entries=i,n())},s=C("layout-shift",a);s&&(n=P(e,r,B,t.reportAllChanges),A((function(){a(s.takeRecords()),n(!0)})),T((function(){o=0,r=L("CLS",0),n=P(e,r,B,t.reportAllChanges),j((function(){return n()}))})),setTimeout(n,0))})))}((function(e){n.cls=e.value}),{reportAllChanges:!0}),function(e,t){t=t||{},I((function(){var n,r=O(),o=L("FID"),i=function(e){e.startTime<r.firstHiddenTime&&(o.value=e.processingStart-e.startTime,o.entries.push(e),n(!0))},a=function(e){e.forEach(i)},s=C("first-input",a);n=P(e,o,Q,t.reportAllChanges),s&&A(R((function(){a(s.takeRecords()),s.disconnect()}))),s&&T((function(){var r;o=L("FID"),n=P(e,o,Q,t.reportAllChanges),x=[],w=-1,y=null,z(addEventListener),r=i,x.push(r),G()}))}))}((function(e){a=e.value}));var c=new Promise((function(e){Z((function(t){n.ttfb=t.value,e()}))}));setTimeout((function(){o()}),12e3),window.addEventListener("load",(function(){o()})),Promise.all([r,i,s,c]).then((function(r){var o=r[0];o=function(e){var t={redirectCount:e.redirectCount};return ee.forEach((function(n){t[n]=Number((e[n]||0).toFixed(2))})),t}(o);var i=n.lcp,s=n.fcp,c=n.ttfb,u=n.cls;e.report({runTime:"immediately",data:{eid:h.performance,l:t(t({},o),{lcp:i&&Number(i.toFixed(2)),fcp:s&&Number(s.toFixed(2)),fid:a&&Number(a.toFixed(2)),cls:u&&Number(u.toFixed(2)),ttfb:c&&Number(c.toFixed(2))})}})}))}else window.addEventListener("load",(function(){var n=performance.timing,r=n.navigationStart,o=n.unloadEventStart,i=performance.navigation.redirectCount,a=Math.min(r,o)||0,s=t(t({},performance.timing),performance.navigation),c={redirectCount:i};ee.forEach((function(e,t){s[e]>0?s[e]-=a:s[e]=0===t?0:s[ee[t-1]],c[e]=s[e]})),e.report({runTime:"immediately",data:{eid:h.performance,l:c}})}))},e.prototype.hijackConsole=function(){var e=this,t=console.error;console.error=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var o="";try{o=JSON.stringify(n.map((function(e){return"string"==typeof e?e:e instanceof Error?e.message:String(e)})))}catch(e){}e.report({data:{eid:h["console-exception"],l:{messages:o,type:"error"}}}),t.apply(this,n)}},e.prototype.runTimePerformance=function(){var e=this,t=[],n=[];window.addEventListener("load",(function(){var r,o,i;r=0,o=0,i=function(e){if(0===r&&(r=e),o++,e-r>=1e3){var n=o;o=0,r=e,t.push(n)}requestAnimationFrame(i)},requestAnimationFrame(i),setInterval((function(){var e=null===performance||void 0===performance?void 0:performance.memory;e&&n.push(e)}),1e3),setInterval((function(){if(t.length){console.log(n);var r=t.reduce((function(e,t){return e+t}),0)/t.length;t=[],n=[],e.report({data:{eid:h["runtime-performance"],l:{fps:r}}})}}),8e3)}))},e}();e.Browser=te,e.default=g,Object.defineProperty(e,"__esModule",{value:!0})}));
